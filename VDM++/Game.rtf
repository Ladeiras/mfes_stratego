{\rtf1\ansi\deff0\adeflang1025
{\fonttbl{\f0\froman\fprq2\fcharset0 Times New Roman;}{\f1\froman\fprq2\fcharset2 Symbol;}{\f2\fswiss\fprq2\fcharset0 Arial;}{\f3\froman\fprq0\fcharset1 Courier New;}{\f4\froman\fprq0\fcharset1 Courier{\*\falt Courier New};}{\f5\froman\fprq0\fcharset1 Times New Roman;}{\f6\fswiss\fprq0\fcharset1 Arial;}{\f7\fnil\fprq2\fcharset0 Microsoft YaHei;}{\f8\fnil\fprq2\fcharset0 Arial;}{\f9\fnil\fprq0\fcharset1 Courier New;}{\f10\fnil\fprq0\fcharset1 Mangal;}{\f11\fnil\fprq0\fcharset1 Times New Roman;}{\f12\fnil\fprq0\fcharset1 Courier{\*\falt Courier New};}}
{\colortbl;\red0\green0\blue0;\red127\green0\blue85;\red63\green127\blue95;\red42\green0\blue255;\red0\green0\blue128;\red204\green204\blue204;\red128\green128\blue128;}
{\stylesheet{\s0\snext0\ql\widctlpar\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af11\afs20\alang1081\cf0\loch\f5\fs20\lang1033 Normal;}
{\s1\sbasedon18\snext19\ilvl0\outlinelevel0\ql\widctlpar\sb240\sa120\keepn\ltrpar\b\kerning1\dbch\af7\langfe2052\dbch\af10\afs32\alang1081\ab\loch\f6\fs32\lang1033 Heading 1;}
{\s2\sbasedon18\snext19\ilvl1\outlinelevel1\ql\widctlpar\sb240\sa120\keepn\ltrpar\i\b\kerning1\dbch\af7\langfe2052\dbch\af10\afs28\alang1081\ai\ab\loch\f6\fs28\lang1033 Heading 2;}
{\s3\sbasedon18\snext19\ilvl2\outlinelevel2\ql\widctlpar\sb240\sa120\keepn\ltrpar\b\kerning1\dbch\af7\langfe2052\dbch\af10\afs28\alang1081\ab\loch\f6\fs28\lang1033 Heading 3;}
{\*\cs15\snext15 Default Paragraph Font;}
{\*\cs16\sbasedon15\snext16\chcbpat6\dbch\af12\loch\f4 VDM_COV;}
{\*\cs17\sbasedon15\snext17\chcbpat6\dbch\af12\loch\f4 VDM_NCOV;}
{\s18\sbasedon0\snext19\ql\widctlpar\sb240\sa120\keepn\ltrpar\kerning1\dbch\af7\langfe2052\dbch\af10\afs28\alang1081\loch\f6\fs28\lang1033 Heading;}
{\s19\sbasedon0\snext19\ql\widctlpar\sb0\sa120\ltrpar\kerning1\dbch\af8\langfe2052\dbch\af11\afs20\alang1081\loch\f5\fs20\lang1033 Text Body;}
{\s20\sbasedon19\snext20\ql\widctlpar\sb0\sa120\ltrpar\kerning1\dbch\af8\langfe2052\dbch\af10\afs20\alang1081\loch\f5\fs20\lang1033 List;}
{\s21\sbasedon0\snext21\ql\widctlpar\sb120\sa120\noline\ltrpar\i\kerning1\dbch\af8\langfe2052\dbch\af10\afs24\alang1081\ai\loch\f5\fs24\lang1033 Caption;}
{\s22\sbasedon0\snext22\ql\widctlpar\noline\ltrpar\kerning1\dbch\af8\langfe2052\dbch\af10\afs20\alang1081\loch\f5\fs20\lang1033 Index;}
{\s23\snext23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070 VDM;}
{\s24\sbasedon23\snext24\ql\widctlpar\cbpat6\ltrpar\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\loch\f3\fs20\lang2070 VDM_TC_TABLE;}
{\s25\sbasedon0\snext25\ql\widctlpar\li567\ri567\lin567\rin567\fi0\sb0\sa283\ltrpar\kerning1\dbch\af8\langfe2052\dbch\af11\afs20\alang1081\loch\f5\fs20\lang1033 Quotations;}
{\s26\sbasedon18\snext19\qc\widctlpar\sb240\sa120\keepn\ltrpar\b\kerning1\dbch\af7\langfe2052\dbch\af10\afs36\alang1081\ab\loch\f6\fs36\lang1033 Title;}
{\s27\sbasedon18\snext19\qc\widctlpar\sb240\sa120\keepn\ltrpar\i\kerning1\dbch\af7\langfe2052\dbch\af10\afs28\alang1081\ai\loch\f6\fs28\lang1033 Subtitle;}
{\s28\sbasedon19\snext28\ql\widctlpar\sb0\sa120\ltrpar\kerning1\dbch\af8\langfe2052\dbch\af11\afs20\alang1081\loch\f5\fs20\lang1033 Noraml;}
{\s29\sbasedon28\snext29\ql\widctlpar\sb0\sa120\ltrpar\kerning1\dbch\af8\langfe2052\dbch\af11\afs20\alang1081\loch\f5\fs20\lang1033 LO-Normal;}
}{\*\listtable{\list\listtemplateid1
{\listlevel\levelnfc255\leveljc0\levelstartat1\levelfollow2{\leveltext \'00;}{\levelnumbers;}\fi-432\li432}
{\listlevel\levelnfc255\leveljc0\levelstartat1\levelfollow2{\leveltext \'00;}{\levelnumbers;}\fi-576\li576}
{\listlevel\levelnfc255\leveljc0\levelstartat1\levelfollow2{\leveltext \'00;}{\levelnumbers;}\fi-720\li720}
{\listlevel\levelnfc255\leveljc0\levelstartat1\levelfollow2{\leveltext \'00;}{\levelnumbers;}\fi-864\li864}
{\listlevel\levelnfc255\leveljc0\levelstartat1\levelfollow2{\leveltext \'00;}{\levelnumbers;}\fi-1008\li1008}
{\listlevel\levelnfc255\leveljc0\levelstartat1\levelfollow2{\leveltext \'00;}{\levelnumbers;}\fi-1152\li1152}
{\listlevel\levelnfc255\leveljc0\levelstartat1\levelfollow2{\leveltext \'00;}{\levelnumbers;}\fi-1296\li1296}
{\listlevel\levelnfc255\leveljc0\levelstartat1\levelfollow2{\leveltext \'00;}{\levelnumbers;}\fi-1440\li1440}
{\listlevel\levelnfc255\leveljc0\levelstartat1\levelfollow2{\leveltext \'00;}{\levelnumbers;}\fi-1584\li1584}\listid1}
{\list\listtemplateid2
{\listlevel\levelnfc255\leveljc0\levelstartat1\levelfollow2{\leveltext \'00;}{\levelnumbers;}\fi-360\li720}
{\listlevel\levelnfc255\leveljc0\levelstartat1\levelfollow2{\leveltext \'00;}{\levelnumbers;}\fi-360\li1080}
{\listlevel\levelnfc255\leveljc0\levelstartat1\levelfollow2{\leveltext \'00;}{\levelnumbers;}\fi-360\li1440}
{\listlevel\levelnfc255\leveljc0\levelstartat1\levelfollow2{\leveltext \'00;}{\levelnumbers;}\fi-360\li1800}
{\listlevel\levelnfc255\leveljc0\levelstartat1\levelfollow2{\leveltext \'00;}{\levelnumbers;}\fi-360\li2160}
{\listlevel\levelnfc255\leveljc0\levelstartat1\levelfollow2{\leveltext \'00;}{\levelnumbers;}\fi-360\li2520}
{\listlevel\levelnfc255\leveljc0\levelstartat1\levelfollow2{\leveltext \'00;}{\levelnumbers;}\fi-360\li2880}
{\listlevel\levelnfc255\leveljc0\levelstartat1\levelfollow2{\leveltext \'00;}{\levelnumbers;}\fi-360\li3240}
{\listlevel\levelnfc255\leveljc0\levelstartat1\levelfollow2{\leveltext \'00;}{\levelnumbers;}\fi-360\li3600}\listid2}
}{\listoverridetable{\listoverride\listid1\listoverridecount0\ls1}{\listoverride\listid2\listoverridecount0\ls2}}{\info{\author Paul Mukherjee}{\creatim\yr2013\mo11\dy27\hr23\min46}{\revtim\yr2000\mo6\dy29\hr10\min31}{\printim\yr0\mo0\dy0\hr0\min0}{\comment LibreOffice}{\vern67175170}}\deftab720\deftab720
\viewscale100
{\*\pgdsctbl
{\pgdsc0\pgdscuse451\pgwsxn12240\pghsxn15840\marglsxn1800\margrsxn1800\margtsxn1440\margbsxn1440\pgdscnxt0 Default Style;}}
\formshade{\*\pgdscno0}\paperh15840\paperw12240\margl1800\margr1800\margt1440\margb1440\sectd\sbknone\sectunlocked1\pgndec\pgwsxn12240\pghsxn15840\marglsxn1800\margrsxn1800\margtsxn1440\margbsxn1440\ftnbj\ftnstart1\ftnrstcont\ftnnar\aenddoc\aftnrstcont\aftnstart1\aftnnrlc
\pgndec\pard\plain \s1\ilvl0\outlinelevel0\ql\widctlpar\sb240\sa120\keepn\ltrpar\b\kerning1\dbch\af7\langfe2052\dbch\af10\afs32\alang1081\ab\loch\f6\fs32\lang1033{\listtext\pard\plain }\ilvl0\ls2 \li1152\ri0\lin1152\rin0\fi-360\li432\ri0\lin432\rin0\fi-432\sb240\sa120{\alang1025\rtlch \ltrch\loch
Game Class}
\par \pard\plain \s29\ql\widctlpar\sb0\sa120\ltrpar\kerning1\dbch\af8\langfe2052\dbch\af11\afs20\alang1081\loch\f5\fs20\lang1033{\alang1025\rtlch \ltrch\loch
VDM++ definition of the class Piece}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\cf2\b\rtlch \ltrch\loch
class}{\rtlch \ltrch\loch
 Game}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab }{\cf2\b\rtlch \ltrch\loch
types}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf2\b\rtlch \ltrch\loch
public}{\rtlch \ltrch\loch
 Position:: column : }{\cf2\b\rtlch \ltrch\loch
nat}{\rtlch \ltrch\loch
 row : }{\cf2\b\rtlch \ltrch\loch
nat}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab }{\cf2\b\rtlch \ltrch\loch
instance variables}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf3\rtlch \ltrch\loch
--public player1 : Player;}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf3\rtlch \ltrch\loch
--public player2 : Player;}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf2\b\rtlch \ltrch\loch
public}{\rtlch \ltrch\loch
 turn : }{\cf2\b\rtlch \ltrch\loch
seq}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
of}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
char}{\rtlch \ltrch\loch
;}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf2\b\rtlch \ltrch\loch
public}{\rtlch \ltrch\loch
 finish : }{\cf2\b\rtlch \ltrch\loch
bool}{\rtlch \ltrch\loch
;}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf2\b\rtlch \ltrch\loch
public}{\rtlch \ltrch\loch
 board : }{\cf2\b\rtlch \ltrch\loch
map}{\rtlch \ltrch\loch
 Position }{\cf2\b\rtlch \ltrch\loch
to}{\rtlch \ltrch\loch
 Piece := \{|->\};}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf3\rtlch \ltrch\loch
--       0    1    2}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf3\rtlch \ltrch\loch
--     +----+----+---}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf3\rtlch \ltrch\loch
--   0 |    |    |   }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf3\rtlch \ltrch\loch
--     +----+----+---}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf3\rtlch \ltrch\loch
--   1 |    |    |   }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab }{\cf3\rtlch \ltrch\loch
--Number pieces in the board}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab }{\cf2\b\rtlch \ltrch\loch
inv}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
card}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
dom}{\rtlch \ltrch\loch
 board <= 100;}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab }{\cf3\rtlch \ltrch\loch
--Position columns and rows}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab }{\cf2\b\rtlch \ltrch\loch
inv}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
forall}{\rtlch \ltrch\loch
 p }{\cf2\b\rtlch \ltrch\loch
in}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
set}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
dom}{\rtlch \ltrch\loch
 board & (p.column <=9 }{\cf2\b\rtlch \ltrch\loch
and}{\rtlch \ltrch\loch
 p.row <=9);}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab }{\cf3\rtlch \ltrch\loch
--Turn must be either "red" or "blue"}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab }{\cf2\b\rtlch \ltrch\loch
inv}{\rtlch \ltrch\loch
 turn = }{\cf4\rtlch \ltrch\loch
"red"}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
or}{\rtlch \ltrch\loch
 turn = }{\cf4\rtlch \ltrch\loch
"blue"}{\rtlch \ltrch\loch
;}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab }{\cf2\b\rtlch \ltrch\loch
operations}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf2\b\rtlch \ltrch\loch
public}{\rtlch \ltrch\loch
 Game : () ==> Game}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab Game() ==}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab (}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf3\rtlch \ltrch\loch
--Players}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf3\rtlch \ltrch\loch
--player1 := new Player(new Color("red"));}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf3\rtlch \ltrch\loch
--player2 := new Player(new Color("blue"));}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab turn := }{\cf4\rtlch \ltrch\loch
"red"}{\rtlch \ltrch\loch
;}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab finish := }{\cf2\b\rtlch \ltrch\loch
false}{\rtlch \ltrch\loch
;}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf3\rtlch \ltrch\loch
--Fill the empty and water positions}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab initialize();}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
return}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
self}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab );}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf3\rtlch \ltrch\loch
--Fill the empty and water positions}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf2\b\rtlch \ltrch\loch
public}{\rtlch \ltrch\loch
 initialize : () ==> ()}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab initialize() ==}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab (}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
dcl}{\rtlch \ltrch\loch
 c : }{\cf2\b\rtlch \ltrch\loch
nat}{\rtlch \ltrch\loch
 := 0;}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
dcl}{\rtlch \ltrch\loch
 r : }{\cf2\b\rtlch \ltrch\loch
nat}{\rtlch \ltrch\loch
 := 0;}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf3\rtlch \ltrch\loch
--Add empty pieces}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
while}{\rtlch \ltrch\loch
(r < 10) }{\cf2\b\rtlch \ltrch\loch
do}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab (}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
while}{\rtlch \ltrch\loch
(c < 10) }{\cf2\b\rtlch \ltrch\loch
do}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab (}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab \tab addNewPiece(}{\cf2\b\rtlch \ltrch\loch
mk_}{\rtlch \ltrch\loch
Position(c,r), }{\cf2\b\rtlch \ltrch\loch
new}{\rtlch \ltrch\loch
 Piece(}{\cf2\b\rtlch \ltrch\loch
new}{\rtlch \ltrch\loch
 Rank(}{\cf4\rtlch \ltrch\loch
"null"}{\rtlch \ltrch\loch
), }{\cf2\b\rtlch \ltrch\loch
new}{\rtlch \ltrch\loch
 Color(}{\cf4\rtlch \ltrch\loch
"null"}{\rtlch \ltrch\loch
)));}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab \tab c := c+1;}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab );}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab c := 0;}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab r := r+1;}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab );}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf3\rtlch \ltrch\loch
--Add water}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab addNewPiece(}{\cf2\b\rtlch \ltrch\loch
mk_}{\rtlch \ltrch\loch
Position(2,4), }{\cf2\b\rtlch \ltrch\loch
new}{\rtlch \ltrch\loch
 Piece(}{\cf2\b\rtlch \ltrch\loch
new}{\rtlch \ltrch\loch
 Rank(}{\cf4\rtlch \ltrch\loch
"water"}{\rtlch \ltrch\loch
), }{\cf2\b\rtlch \ltrch\loch
new}{\rtlch \ltrch\loch
 Color(}{\cf4\rtlch \ltrch\loch
"null"}{\rtlch \ltrch\loch
)));}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab addNewPiece(}{\cf2\b\rtlch \ltrch\loch
mk_}{\rtlch \ltrch\loch
Position(2,5), }{\cf2\b\rtlch \ltrch\loch
new}{\rtlch \ltrch\loch
 Piece(}{\cf2\b\rtlch \ltrch\loch
new}{\rtlch \ltrch\loch
 Rank(}{\cf4\rtlch \ltrch\loch
"water"}{\rtlch \ltrch\loch
), }{\cf2\b\rtlch \ltrch\loch
new}{\rtlch \ltrch\loch
 Color(}{\cf4\rtlch \ltrch\loch
"null"}{\rtlch \ltrch\loch
)));}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab addNewPiece(}{\cf2\b\rtlch \ltrch\loch
mk_}{\rtlch \ltrch\loch
Position(3,4), }{\cf2\b\rtlch \ltrch\loch
new}{\rtlch \ltrch\loch
 Piece(}{\cf2\b\rtlch \ltrch\loch
new}{\rtlch \ltrch\loch
 Rank(}{\cf4\rtlch \ltrch\loch
"water"}{\rtlch \ltrch\loch
), }{\cf2\b\rtlch \ltrch\loch
new}{\rtlch \ltrch\loch
 Color(}{\cf4\rtlch \ltrch\loch
"null"}{\rtlch \ltrch\loch
)));}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab addNewPiece(}{\cf2\b\rtlch \ltrch\loch
mk_}{\rtlch \ltrch\loch
Position(3,5), }{\cf2\b\rtlch \ltrch\loch
new}{\rtlch \ltrch\loch
 Piece(}{\cf2\b\rtlch \ltrch\loch
new}{\rtlch \ltrch\loch
 Rank(}{\cf4\rtlch \ltrch\loch
"water"}{\rtlch \ltrch\loch
), }{\cf2\b\rtlch \ltrch\loch
new}{\rtlch \ltrch\loch
 Color(}{\cf4\rtlch \ltrch\loch
"null"}{\rtlch \ltrch\loch
)));}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab addNewPiece(}{\cf2\b\rtlch \ltrch\loch
mk_}{\rtlch \ltrch\loch
Position(6,4), }{\cf2\b\rtlch \ltrch\loch
new}{\rtlch \ltrch\loch
 Piece(}{\cf2\b\rtlch \ltrch\loch
new}{\rtlch \ltrch\loch
 Rank(}{\cf4\rtlch \ltrch\loch
"water"}{\rtlch \ltrch\loch
), }{\cf2\b\rtlch \ltrch\loch
new}{\rtlch \ltrch\loch
 Color(}{\cf4\rtlch \ltrch\loch
"null"}{\rtlch \ltrch\loch
)));}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab addNewPiece(}{\cf2\b\rtlch \ltrch\loch
mk_}{\rtlch \ltrch\loch
Position(6,5), }{\cf2\b\rtlch \ltrch\loch
new}{\rtlch \ltrch\loch
 Piece(}{\cf2\b\rtlch \ltrch\loch
new}{\rtlch \ltrch\loch
 Rank(}{\cf4\rtlch \ltrch\loch
"water"}{\rtlch \ltrch\loch
), }{\cf2\b\rtlch \ltrch\loch
new}{\rtlch \ltrch\loch
 Color(}{\cf4\rtlch \ltrch\loch
"null"}{\rtlch \ltrch\loch
)));}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab addNewPiece(}{\cf2\b\rtlch \ltrch\loch
mk_}{\rtlch \ltrch\loch
Position(7,4), }{\cf2\b\rtlch \ltrch\loch
new}{\rtlch \ltrch\loch
 Piece(}{\cf2\b\rtlch \ltrch\loch
new}{\rtlch \ltrch\loch
 Rank(}{\cf4\rtlch \ltrch\loch
"water"}{\rtlch \ltrch\loch
), }{\cf2\b\rtlch \ltrch\loch
new}{\rtlch \ltrch\loch
 Color(}{\cf4\rtlch \ltrch\loch
"null"}{\rtlch \ltrch\loch
)));}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab addNewPiece(}{\cf2\b\rtlch \ltrch\loch
mk_}{\rtlch \ltrch\loch
Position(7,5), }{\cf2\b\rtlch \ltrch\loch
new}{\rtlch \ltrch\loch
 Piece(}{\cf2\b\rtlch \ltrch\loch
new}{\rtlch \ltrch\loch
 Rank(}{\cf4\rtlch \ltrch\loch
"water"}{\rtlch \ltrch\loch
), }{\cf2\b\rtlch \ltrch\loch
new}{\rtlch \ltrch\loch
 Color(}{\cf4\rtlch \ltrch\loch
"null"}{\rtlch \ltrch\loch
)));}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab );}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf2\b\rtlch \ltrch\loch
public}{\rtlch \ltrch\loch
 getBoardSize : () ==> }{\cf2\b\rtlch \ltrch\loch
nat}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab getBoardSize() ==}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab (}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
return}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
card}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
dom}{\rtlch \ltrch\loch
 board;}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab );}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf3\rtlch \ltrch\loch
--Check if the number of pieces of a certain type hasn't been surpassed}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf2\b\rtlch \ltrch\loch
public}{\rtlch \ltrch\loch
 checkAvaiability : Piece ==> }{\cf2\b\rtlch \ltrch\loch
bool}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab checkAvaiability(piece) ==}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab (}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
dcl}{\rtlch \ltrch\loch
 setP : }{\cf2\b\rtlch \ltrch\loch
set}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
of}{\rtlch \ltrch\loch
 Piece := \{p | p }{\cf2\b\rtlch \ltrch\loch
in}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
set}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
rng}{\rtlch \ltrch\loch
 board & }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab \tab \tab \tab \tab (p.color.name = piece.color.name }{\cf2\b\rtlch \ltrch\loch
and}{\rtlch \ltrch\loch
 p.rank.name = piece.rank.name)\};}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab \tab \tab \tab \tab }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
return}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
card}{\rtlch \ltrch\loch
 setP < piece.rank.avaiability;}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab );}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf3\rtlch \ltrch\loch
--Add new Piece}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf2\b\rtlch \ltrch\loch
public}{\rtlch \ltrch\loch
 addNewPiece : Position*Piece ==> ()}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab addNewPiece(position, piece) ==}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab (}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
if}{\rtlch \ltrch\loch
 checkAvaiability(piece)}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
then}{\rtlch \ltrch\loch
 board := board ++ \{position |-> piece\}}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab );}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab }{\cf3\rtlch \ltrch\loch
--pre checkAvaiability(piece);}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab }{\cf3\rtlch \ltrch\loch
--post board(position) = piece;}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf3\rtlch \ltrch\loch
--Add Piece}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf2\b\rtlch \ltrch\loch
public}{\rtlch \ltrch\loch
 addPiece : Position*Piece ==> ()}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab addPiece(position, piece) ==}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab (}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab board := board ++ \{position |-> piece\}}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab );}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf3\rtlch \ltrch\loch
--Get piece in given position}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf2\b\rtlch \ltrch\loch
public}{\rtlch \ltrch\loch
 getPiece : Position ==> Piece}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab getPiece(pos) ==}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab (}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
return}{\rtlch \ltrch\loch
 board(pos);}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab );}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf3\rtlch \ltrch\loch
--Get piece in given position}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf2\b\rtlch \ltrch\loch
public}{\rtlch \ltrch\loch
 getClonePiece : Position ==> Piece}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab getClonePiece(pos) ==}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab (}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
return}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
new}{\rtlch \ltrch\loch
 Piece(}{\cf2\b\rtlch \ltrch\loch
new}{\rtlch \ltrch\loch
 Rank(board(pos).rank.name), }{\cf2\b\rtlch \ltrch\loch
new}{\rtlch \ltrch\loch
 Color(board(pos).color.name));}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab );}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf3\rtlch \ltrch\loch
--Empty Piece}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
public}{\rtlch \ltrch\loch
 emptyPiece : () ==> Piece}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab emptyPiece() ==}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab (}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
return}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
new}{\rtlch \ltrch\loch
 Piece(}{\cf2\b\rtlch \ltrch\loch
new}{\rtlch \ltrch\loch
 Rank(}{\cf4\rtlch \ltrch\loch
"null"}{\rtlch \ltrch\loch
), }{\cf2\b\rtlch \ltrch\loch
new}{\rtlch \ltrch\loch
 Color(}{\cf4\rtlch \ltrch\loch
"null"}{\rtlch \ltrch\loch
));}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab );}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf3\rtlch \ltrch\loch
--Check if the piece in the position is the same color as the turn }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf2\b\rtlch \ltrch\loch
public}{\rtlch \ltrch\loch
 checkTurn : Position ==> }{\cf2\b\rtlch \ltrch\loch
bool}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab checkTurn(p) ==}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab (}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
if}{\rtlch \ltrch\loch
 board(p).color.name = turn}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
then}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
return}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
true}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
else}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
return}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
false}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab );}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf3\rtlch \ltrch\loch
--Change turn }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf2\b\rtlch \ltrch\loch
public}{\rtlch \ltrch\loch
 changeTurn : () ==> ()}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab changeTurn() ==}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab (}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
if}{\rtlch \ltrch\loch
 turn = }{\cf4\rtlch \ltrch\loch
"red"}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
then}{\rtlch \ltrch\loch
 turn := }{\cf4\rtlch \ltrch\loch
"blue"}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
else}{\rtlch \ltrch\loch
 turn := }{\cf4\rtlch \ltrch\loch
"red"}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab );}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf3\rtlch \ltrch\loch
--Returns the color of the opponent}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf2\b\rtlch \ltrch\loch
public}{\rtlch \ltrch\loch
 getOpponentColor : Position ==> }{\cf2\b\rtlch \ltrch\loch
seq}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
of}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
char}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab getOpponentColor(p) ==}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab (}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
if}{\rtlch \ltrch\loch
 board(p).color.name = }{\cf4\rtlch \ltrch\loch
"red"}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
then}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
return}{\rtlch \ltrch\loch
 }{\cf4\rtlch \ltrch\loch
"blue"}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
else}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
return}{\rtlch \ltrch\loch
 }{\cf4\rtlch \ltrch\loch
"red"}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab );}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf3\rtlch \ltrch\loch
--Check if the "to" position color is valid}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf2\b\rtlch \ltrch\loch
public}{\rtlch \ltrch\loch
 checkToPositionColor : Position*Position ==> }{\cf2\b\rtlch \ltrch\loch
bool}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab checkToPositionColor(p1,p2) ==}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab (}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
if}{\rtlch \ltrch\loch
 board(p2).color.name = getOpponentColor(p1) }{\cf2\b\rtlch \ltrch\loch
or}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab \tab  board(p2).color.name = }{\cf4\rtlch \ltrch\loch
"null"}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
then}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
return}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
true}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
else}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
return}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
false}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab )}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
pre}{\rtlch \ltrch\loch
 checkTurn(p1);}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf3\rtlch \ltrch\loch
--Check if movement is horizontal or veritical}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf2\b\rtlch \ltrch\loch
public}{\rtlch \ltrch\loch
 checkHorV : Position*Position ==> }{\cf2\b\rtlch \ltrch\loch
bool}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab checkHorV(p1,p2) ==}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab (}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
dcl}{\rtlch \ltrch\loch
 pSet : }{\cf2\b\rtlch \ltrch\loch
set}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
of}{\rtlch \ltrch\loch
 Position := \{p1, p2\};}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
return}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
forall}{\rtlch \ltrch\loch
 e1,e2 }{\cf2\b\rtlch \ltrch\loch
in}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
set}{\rtlch \ltrch\loch
 pSet & (e1.row = e2.row }{\cf2\b\rtlch \ltrch\loch
or}{\rtlch \ltrch\loch
 e1.column = e2.column); }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab )}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
pre}{\rtlch \ltrch\loch
 checkTurn(p1);}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab \tab \tab \tab }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf3\rtlch \ltrch\loch
--Check if the middle pieces are empty}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf2\b\rtlch \ltrch\loch
public}{\rtlch \ltrch\loch
 checkMiddlePieces : Position*Position ==> }{\cf2\b\rtlch \ltrch\loch
bool}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab checkMiddlePieces(p_from, p_to) ==}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab (}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
dcl}{\rtlch \ltrch\loch
 pSet : }{\cf2\b\rtlch \ltrch\loch
set}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
of}{\rtlch \ltrch\loch
 Position;}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
if}{\rtlch \ltrch\loch
 p_to.column > p_from.column }{\cf2\b\rtlch \ltrch\loch
and}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab  p_to.row = p_from.row }{\cf3\rtlch \ltrch\loch
-- right}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab  }{\cf2\b\rtlch \ltrch\loch
then}{\rtlch \ltrch\loch
 pSet := \{p | p }{\cf2\b\rtlch \ltrch\loch
in}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
set}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
dom}{\rtlch \ltrch\loch
 board & }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab (p.column < p_to.column }{\cf2\b\rtlch \ltrch\loch
and}{\rtlch \ltrch\loch
 p.column > p_from.column }{\cf2\b\rtlch \ltrch\loch
and}{\rtlch \ltrch\loch
 p.row = p_from.row)\}}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
elseif}{\rtlch \ltrch\loch
 p_to.column < p_from.column }{\cf2\b\rtlch \ltrch\loch
and}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab \tab \tab  p_to.row = p_from.row }{\cf3\rtlch \ltrch\loch
-- left}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab  }{\cf2\b\rtlch \ltrch\loch
then}{\rtlch \ltrch\loch
 pSet := \{p | p }{\cf2\b\rtlch \ltrch\loch
in}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
set}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
dom}{\rtlch \ltrch\loch
 board & }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab (p.column > p_to.column }{\cf2\b\rtlch \ltrch\loch
and}{\rtlch \ltrch\loch
 p.column < p_from.column }{\cf2\b\rtlch \ltrch\loch
and}{\rtlch \ltrch\loch
 p.row = p_from.row)\}}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
elseif}{\rtlch \ltrch\loch
 p_to.column = p_from.column }{\cf2\b\rtlch \ltrch\loch
and}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab \tab \tab  p_to.row < p_from.row }{\cf3\rtlch \ltrch\loch
-- up}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab  }{\cf2\b\rtlch \ltrch\loch
then}{\rtlch \ltrch\loch
 pSet := \{p | p }{\cf2\b\rtlch \ltrch\loch
in}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
set}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
dom}{\rtlch \ltrch\loch
 board & }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab (p.row > p_to.row }{\cf2\b\rtlch \ltrch\loch
and}{\rtlch \ltrch\loch
 p.row < p_from.row }{\cf2\b\rtlch \ltrch\loch
and}{\rtlch \ltrch\loch
 p.column = p_from.column)\}}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
elseif}{\rtlch \ltrch\loch
 p_to.column = p_from.column }{\cf2\b\rtlch \ltrch\loch
and}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab \tab \tab  p_to.row > p_from.row }{\cf3\rtlch \ltrch\loch
-- down}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab  }{\cf2\b\rtlch \ltrch\loch
then}{\rtlch \ltrch\loch
 pSet := \{p | p }{\cf2\b\rtlch \ltrch\loch
in}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
set}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
dom}{\rtlch \ltrch\loch
 board & }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab (p.row < p_to.row }{\cf2\b\rtlch \ltrch\loch
and}{\rtlch \ltrch\loch
 p.row > p_from.row }{\cf2\b\rtlch \ltrch\loch
and}{\rtlch \ltrch\loch
 p.column = p_from.column)\};}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab \tab \tab }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
return}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
forall}{\rtlch \ltrch\loch
 p }{\cf2\b\rtlch \ltrch\loch
in}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
set}{\rtlch \ltrch\loch
 pSet & board(p).rank.name = }{\cf4\rtlch \ltrch\loch
"null"}{\rtlch \ltrch\loch
;}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab )}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
pre}{\rtlch \ltrch\loch
 checkTurn(p_from);}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf3\rtlch \ltrch\loch
--Check if the piece can move the number of cells}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf2\b\rtlch \ltrch\loch
public}{\rtlch \ltrch\loch
 checkMovement : Position*Position ==> }{\cf2\b\rtlch \ltrch\loch
bool}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab checkMovement(p_from, p_to) ==}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab (}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
dcl}{\rtlch \ltrch\loch
 pSet : }{\cf2\b\rtlch \ltrch\loch
set}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
of}{\rtlch \ltrch\loch
 Position;}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
dcl}{\rtlch \ltrch\loch
 length : }{\cf2\b\rtlch \ltrch\loch
nat}{\rtlch \ltrch\loch
;}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
if}{\rtlch \ltrch\loch
 p_to.column > p_from.column }{\cf2\b\rtlch \ltrch\loch
and}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab  p_to.row = p_from.row }{\cf3\rtlch \ltrch\loch
-- right}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab  }{\cf2\b\rtlch \ltrch\loch
then}{\rtlch \ltrch\loch
 pSet := \{p | p }{\cf2\b\rtlch \ltrch\loch
in}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
set}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
dom}{\rtlch \ltrch\loch
 board & }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab (p.column < p_to.column }{\cf2\b\rtlch \ltrch\loch
and}{\rtlch \ltrch\loch
 p.column > p_from.column }{\cf2\b\rtlch \ltrch\loch
and}{\rtlch \ltrch\loch
 p.row = p_from.row)\}}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
elseif}{\rtlch \ltrch\loch
 p_to.column < p_from.column }{\cf2\b\rtlch \ltrch\loch
and}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab \tab \tab  p_to.row = p_from.row }{\cf3\rtlch \ltrch\loch
-- left}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab  }{\cf2\b\rtlch \ltrch\loch
then}{\rtlch \ltrch\loch
 pSet := \{p | p }{\cf2\b\rtlch \ltrch\loch
in}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
set}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
dom}{\rtlch \ltrch\loch
 board & }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab (p.column > p_to.column }{\cf2\b\rtlch \ltrch\loch
and}{\rtlch \ltrch\loch
 p.column < p_from.column }{\cf2\b\rtlch \ltrch\loch
and}{\rtlch \ltrch\loch
 p.row = p_from.row)\}}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
elseif}{\rtlch \ltrch\loch
 p_to.column = p_from.column }{\cf2\b\rtlch \ltrch\loch
and}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab \tab \tab  p_to.row < p_from.row }{\cf3\rtlch \ltrch\loch
-- up}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab  }{\cf2\b\rtlch \ltrch\loch
then}{\rtlch \ltrch\loch
 pSet := \{p | p }{\cf2\b\rtlch \ltrch\loch
in}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
set}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
dom}{\rtlch \ltrch\loch
 board & }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab (p.row > p_to.row }{\cf2\b\rtlch \ltrch\loch
and}{\rtlch \ltrch\loch
 p.row < p_from.row }{\cf2\b\rtlch \ltrch\loch
and}{\rtlch \ltrch\loch
 p.column = p_from.column)\}}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
elseif}{\rtlch \ltrch\loch
 p_to.column = p_from.column }{\cf2\b\rtlch \ltrch\loch
and}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab \tab \tab  p_to.row > p_from.row }{\cf3\rtlch \ltrch\loch
-- down}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab  }{\cf2\b\rtlch \ltrch\loch
then}{\rtlch \ltrch\loch
 pSet := \{p | p }{\cf2\b\rtlch \ltrch\loch
in}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
set}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
dom}{\rtlch \ltrch\loch
 board & }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab (p.row < p_to.row }{\cf2\b\rtlch \ltrch\loch
and}{\rtlch \ltrch\loch
 p.row > p_from.row }{\cf2\b\rtlch \ltrch\loch
and}{\rtlch \ltrch\loch
 p.column = p_from.column)\};}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab length := }{\cf2\b\rtlch \ltrch\loch
card}{\rtlch \ltrch\loch
 pSet;}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab length := length + 1;}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab \tab \tab }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
return}{\rtlch \ltrch\loch
 length <= board(p_from).rank.movement;}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab )}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
pre}{\rtlch \ltrch\loch
 checkTurn(p_from);}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf3\rtlch \ltrch\loch
--Validate move}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf2\b\rtlch \ltrch\loch
public}{\rtlch \ltrch\loch
 validMove : }{\cf2\b\rtlch \ltrch\loch
nat}{\rtlch \ltrch\loch
*}{\cf2\b\rtlch \ltrch\loch
nat}{\rtlch \ltrch\loch
*}{\cf2\b\rtlch \ltrch\loch
nat}{\rtlch \ltrch\loch
*}{\cf2\b\rtlch \ltrch\loch
nat}{\rtlch \ltrch\loch
 ==> }{\cf2\b\rtlch \ltrch\loch
bool}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab validMove(fc,fr,tc,tr) ==}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab (}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
dcl}{\rtlch \ltrch\loch
 p1 : Position := }{\cf2\b\rtlch \ltrch\loch
mk_}{\rtlch \ltrch\loch
Position(fc,fr);}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
dcl}{\rtlch \ltrch\loch
 p2 : Position := }{\cf2\b\rtlch \ltrch\loch
mk_}{\rtlch \ltrch\loch
Position(tc,tr);}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
dcl}{\rtlch \ltrch\loch
 positions : }{\cf2\b\rtlch \ltrch\loch
set}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
of}{\rtlch \ltrch\loch
 Position := \{p1,p2\};}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
return}{\rtlch \ltrch\loch
 positions }{\cf2\b\rtlch \ltrch\loch
subset}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
dom}{\rtlch \ltrch\loch
 board }{\cf2\b\rtlch \ltrch\loch
and}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab p1 }{\cf5\b\rtlch \ltrch\loch
<>}{\rtlch \ltrch\loch
 p2 }{\cf2\b\rtlch \ltrch\loch
and}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab checkHorV(p1,p2) }{\cf2\b\rtlch \ltrch\loch
and}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab checkToPositionColor(p1,p2) }{\cf2\b\rtlch \ltrch\loch
and}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab checkMiddlePieces(p1,p2) }{\cf2\b\rtlch \ltrch\loch
and}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab checkMovement(p1,p2);}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab )}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
pre}{\rtlch \ltrch\loch
 fc >= 0 }{\cf2\b\rtlch \ltrch\loch
and}{\rtlch \ltrch\loch
 fc <= 9 }{\cf2\b\rtlch \ltrch\loch
and}{\rtlch \ltrch\loch
 fr >= 0 }{\cf2\b\rtlch \ltrch\loch
and}{\rtlch \ltrch\loch
 fr <= 9 }{\cf2\b\rtlch \ltrch\loch
and}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab tc >= 0 }{\cf2\b\rtlch \ltrch\loch
and}{\rtlch \ltrch\loch
 tc <= 9 }{\cf2\b\rtlch \ltrch\loch
and}{\rtlch \ltrch\loch
 tr >= 0 }{\cf2\b\rtlch \ltrch\loch
and}{\rtlch \ltrch\loch
 tr <= 9;}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf3\rtlch \ltrch\loch
--Validate swap positions}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf2\b\rtlch \ltrch\loch
public}{\rtlch \ltrch\loch
 validSwapPositions : }{\cf2\b\rtlch \ltrch\loch
nat}{\rtlch \ltrch\loch
*}{\cf2\b\rtlch \ltrch\loch
nat}{\rtlch \ltrch\loch
*}{\cf2\b\rtlch \ltrch\loch
nat}{\rtlch \ltrch\loch
*}{\cf2\b\rtlch \ltrch\loch
nat}{\rtlch \ltrch\loch
 ==> }{\cf2\b\rtlch \ltrch\loch
bool}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab validSwapPositions(fc,fr,tc,tr) ==}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab (}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
dcl}{\rtlch \ltrch\loch
 pSet : }{\cf2\b\rtlch \ltrch\loch
set}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
of}{\rtlch \ltrch\loch
 Position := \{}{\cf2\b\rtlch \ltrch\loch
mk_}{\rtlch \ltrch\loch
Position(fc,fr),}{\cf2\b\rtlch \ltrch\loch
mk_}{\rtlch \ltrch\loch
Position(tc,tr)\};}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
return}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
forall}{\rtlch \ltrch\loch
 p1,p2 }{\cf2\b\rtlch \ltrch\loch
in}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
set}{\rtlch \ltrch\loch
 pSet & getPiece(p1).color.name = getPiece(p2).color.name;}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab );}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf3\rtlch \ltrch\loch
--Swap positions}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf2\b\rtlch \ltrch\loch
public}{\rtlch \ltrch\loch
 swapPositions : }{\cf2\b\rtlch \ltrch\loch
nat}{\rtlch \ltrch\loch
*}{\cf2\b\rtlch \ltrch\loch
nat}{\rtlch \ltrch\loch
*}{\cf2\b\rtlch \ltrch\loch
nat}{\rtlch \ltrch\loch
*}{\cf2\b\rtlch \ltrch\loch
nat}{\rtlch \ltrch\loch
 ==> ()}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab swapPositions(fc,fr,tc,tr) ==}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab (}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
dcl}{\rtlch \ltrch\loch
 p1 : Position := }{\cf2\b\rtlch \ltrch\loch
mk_}{\rtlch \ltrch\loch
Position(fc,fr);}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
dcl}{\rtlch \ltrch\loch
 p2 : Position := }{\cf2\b\rtlch \ltrch\loch
mk_}{\rtlch \ltrch\loch
Position(tc,tr);}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
dcl}{\rtlch \ltrch\loch
 piece1 : Piece := getClonePiece(p1);}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
dcl}{\rtlch \ltrch\loch
 piece2 : Piece := getClonePiece(p2);}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab (addPiece(p1, piece2);}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab addPiece(p2, piece1);)}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab )}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
pre}{\rtlch \ltrch\loch
 validSwapPositions(fc,fr,tc,tr);}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf3\rtlch \ltrch\loch
--Move Piece}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf2\b\rtlch \ltrch\loch
public}{\rtlch \ltrch\loch
 move : }{\cf2\b\rtlch \ltrch\loch
nat}{\rtlch \ltrch\loch
*}{\cf2\b\rtlch \ltrch\loch
nat}{\rtlch \ltrch\loch
*}{\cf2\b\rtlch \ltrch\loch
nat}{\rtlch \ltrch\loch
*}{\cf2\b\rtlch \ltrch\loch
nat}{\rtlch \ltrch\loch
 ==> ()}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab move(fc,fr,tc,tr) ==}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab (}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
dcl}{\rtlch \ltrch\loch
 p1 : Position := }{\cf2\b\rtlch \ltrch\loch
mk_}{\rtlch \ltrch\loch
Position(fc,fr);}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
dcl}{\rtlch \ltrch\loch
 p2 : Position := }{\cf2\b\rtlch \ltrch\loch
mk_}{\rtlch \ltrch\loch
Position(tc,tr);}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
if}{\rtlch \ltrch\loch
 finish = }{\cf2\b\rtlch \ltrch\loch
false}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
then}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab (}{\cf2\b\rtlch \ltrch\loch
if}{\rtlch \ltrch\loch
 getPiece(p2).rank.name = }{\cf4\rtlch \ltrch\loch
"null"}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
or}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab  \tab \tab (getPiece(p1).rank.name = }{\cf4\rtlch \ltrch\loch
"spy"}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
and}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab \tab \tab getPiece(p2).rank.name = }{\cf4\rtlch \ltrch\loch
"ten"}{\rtlch \ltrch\loch
) }{\cf2\b\rtlch \ltrch\loch
or}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab \tab \tab (getPiece(p1).rank.name = }{\cf4\rtlch \ltrch\loch
"three"}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
and}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab \tab \tab getPiece(p2).rank.name = }{\cf4\rtlch \ltrch\loch
"bomb"}{\rtlch \ltrch\loch
)}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
then}{\rtlch \ltrch\loch
 (addPiece(p2, getClonePiece(p1));}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab \tab \tab \tab  addPiece(p1, emptyPiece());}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab \tab \tab \tab  changeTurn();)}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
elseif}{\rtlch \ltrch\loch
 getPiece(p2).rank.name = }{\cf4\rtlch \ltrch\loch
"bomb"}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
then}{\rtlch \ltrch\loch
 (addPiece(p2, emptyPiece());}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab \tab \tab \tab  addPiece(p1, emptyPiece());}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab \tab \tab \tab  changeTurn();)}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
elseif}{\rtlch \ltrch\loch
 getPiece(p2).rank.name = }{\cf4\rtlch \ltrch\loch
"flag"}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
then}{\rtlch \ltrch\loch
 finish := }{\cf2\b\rtlch \ltrch\loch
true}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
elseif}{\rtlch \ltrch\loch
 getPiece(p2).rank.number > getPiece(p1).rank.number}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
then}{\rtlch \ltrch\loch
 (addPiece(p1, emptyPiece());}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab \tab \tab \tab changeTurn();)}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
elseif}{\rtlch \ltrch\loch
 getPiece(p2).rank.number < getPiece(p1).rank.number}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
then}{\rtlch \ltrch\loch
 (addPiece(p2, getClonePiece(p1));}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab \tab \tab \tab  addPiece(p1, emptyPiece());}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab \tab \tab \tab  changeTurn();)}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab );}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf3\rtlch \ltrch\loch
--else return false;}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab  }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf3\rtlch \ltrch\loch
--return true;}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab )}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
pre}{\rtlch \ltrch\loch
 validMove(fc,fr,tc,tr);}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf3\rtlch \ltrch\loch
--Return true if the game ended}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf2\b\rtlch \ltrch\loch
public}{\rtlch \ltrch\loch
 gameEnded : () ==> }{\cf2\b\rtlch \ltrch\loch
bool}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab gameEnded() ==}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab (}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
return}{\rtlch \ltrch\loch
 finish;}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab );}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf3\rtlch \ltrch\loch
--Return true if the game ended}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab }{\cf2\b\rtlch \ltrch\loch
public}{\rtlch \ltrch\loch
 getWinner : () ==> }{\cf2\b\rtlch \ltrch\loch
seq}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
of}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
char}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab getWinner() ==}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab (}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
if}{\rtlch \ltrch\loch
 finish = }{\cf2\b\rtlch \ltrch\loch
true}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
then}{\rtlch \ltrch\loch
 }{\cf2\b\rtlch \ltrch\loch
return}{\rtlch \ltrch\loch
 turn;}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab \tab }{\cf2\b\rtlch \ltrch\loch
return}{\rtlch \ltrch\loch
 }{\cf4\rtlch \ltrch\loch
"null"}{\rtlch \ltrch\loch
;}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab );}
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\rtlch \ltrch\loch
\tab \tab \tab }
\par \pard\plain \s23\ql\widctlpar\cbpat6\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af9\afs20\alang1081\cf0\loch\f3\fs20\lang2070{\cf2\b\rtlch \ltrch\loch
end}{\rtlch \ltrch\loch
 Game}
\par \pard\plain \s0\ql\widctlpar\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af11\afs20\alang1081\cf0\loch\f5\fs20\lang1033\rtlch \ltrch\loch

\par \pard\plain \s0\ql\widctlpar\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af11\afs20\alang1081\cf0\loch\f5\fs20\lang1033\rtlch \ltrch\loch

\par \pard\plain \s0\ql\widctlpar\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af11\afs20\alang1081\cf0\loch\f5\fs20\lang1033\rtlch \ltrch\loch

\par \pard\plain \s0\ql\widctlpar\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af11\afs20\alang1081\cf0\loch\f5\fs20\lang1033\rtlch \ltrch\loch

\par \pard\plain \s0\ql\widctlpar\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af11\afs20\alang1081\cf0\loch\f5\fs20\lang1033\rtlch \ltrch\loch

\par \pard\plain \s0\ql\widctlpar\ltrpar{\*\hyphen2\hyphlead2\hyphtrail2\hyphmax0}\kerning1\dbch\af8\langfe2052\dbch\af11\afs20\alang1081\cf0\loch\f5\fs20\lang1033\rtlch \ltrch\loch

\par }